{% if onclick is defined %}
    {% include 'radio.html.twig' with { 'name': name, 'value': 'custom', 'onclick': onclick } %}
{% else %}
    {% include 'radio.html.twig' with { 'name': name, 'value': 'custom' } %}
{% endif %}

{% if readonly %}
    {% if prefilled_data[name ~ '_radio_custom_text'] is defined and prefilled_data[name ~ '_radio_custom_text'] is not empty %}
        <span class="readonly-input">{{ prefilled_data[name ~ '_radio_custom_text'] }}</span>
    {% endif %}
{% else %}
    <input type="text"
        name="{{ name }}_radio_custom_text"
        id="{{ name }}_radio_custom_text"
        value="{% if prefilled_data[name ~ '_radio_custom_text'] is defined and prefilled_data[name ~ '_radio_custom_text'] is not empty %}{{ prefilled_data[name ~ '_radio_custom_text'] }}{% endif %}"
        oninput="const input = document.getElementById('radio_{{ name }}_custom'); input.checked = this.value !== '';{% if oninput is defined %} {{ oninput }}{% endif %}"
        autocomplete="off"
        {% if readonly %} disabled{% endif %}
    />
{% endif %}
